{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-315654f74486dddc.js","src/modules/userpage.ts","node_modules/@parcel/runtime-js/lib/runtime-142388b33e60b17f.js","node_modules/@parcel/runtime-js/lib/runtime-2e74a8761f04ac73.js","node_modules/@parcel/runtime-js/lib/runtime-05ccb8047e3233d8.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"aLG6H\\\":\\\"userpage.b9900b17.js\\\",\\\"98rEQ\\\":\\\"Asset2.531f19a3.png\\\",\\\"1bQjt\\\":\\\"Asset3.9c3a8e9d.png\\\",\\\"ST812\\\":\\\"Asset4.faead686.png\\\"}\"));","\r\nimport { Data } from \"./type.ts\"\r\n\r\n\r\nconst img1user: HTMLImageElement = document.createElement('img')\r\nconst imgUrl1user = new URL('../img/Asset2.png', import.meta.url);\r\nimg1user.src = imgUrl1user.href;\r\nconst img2user: HTMLImageElement = document.createElement('img')\r\nconst imgUrl2user = new URL('../img/Asset3.png', import.meta.url);\r\nimg2user.src = imgUrl2user.href;\r\nconst img3user: HTMLImageElement = document.createElement('img')\r\nconst imgUrl3user = new URL('../img/Asset4.png', import.meta.url);\r\nimg3user.src = imgUrl3user.href;\r\n\r\n\r\nconst titleUser: HTMLElement | null = document.querySelector('#title-user')\r\n\r\nconst divbackG: HTMLElement | null = document.querySelector('#background')\r\nconst showUserUserPage: HTMLElement | null = document.querySelector('#show-user')\r\nconst showListUserPage: HTMLElement | null = document.querySelector('#show-list')\r\n\r\nconst urlUserPage: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n\r\nasync function getUserPage(): Promise<Data[]> {\r\n    const response = await fetch(urlUserPage);\r\n    const data = await response.json();\r\n  \r\n    return data\r\n}\r\ngetUserPage().then(showUserPage)\r\n\r\n\r\n\r\nfunction showUserPage(data: Data[]): void {\r\n   \r\n\r\n    data.forEach((element, index) => {\r\n    \r\n        const { username, url, counter } = element\r\n    \r\n        if (showListUserPage && counter) {\r\n            const card: HTMLElement = document.createElement('div');\r\n            showListUserPage.append(card);\r\n            //profilanvändarens del\r\n            if (username == localStorage.getItem('differentUser') && titleUser && showUserUserPage) {\r\n                card.style.display = \"none\"\r\n                const h1UsernameUser: HTMLElement | null = document.createElement('h1')\r\n                h1UsernameUser.innerText = username\r\n                if (url == \"url-1\") titleUser.append(img1user)\r\n                if (url == \"url-2\") titleUser.append(img2user)\r\n                if (url == \"url-3\") titleUser.append(img3user)\r\n                titleUser.append(h1UsernameUser)\r\n                if (Object.keys(element.status).length > 0) {\r\n                    for (let i = 0; i < Object.keys(element.status).length; i++) {\r\n                       \r\n                        if (i != 0) {\r\n                            const pStatusUser: HTMLElement | null = document.createElement('p')\r\n                            pStatusUser.innerText = element.status[i] + '. Likes: ' + counter[i]\r\n\r\n                            //\r\n\r\n                            const likeBtn = document.createElement('button')\r\n                            pStatusUser.append(likeBtn)\r\n                            likeBtn.innerHTML = 'Like'\r\n                            likeBtn.addEventListener('click', () => {\r\n                                \r\n                                changeLike(index, i, counter[i]).then(relooaad)\r\n                                function relooaad() {\r\n                                    location.reload()\r\n                                }\r\n                            })\r\n\r\n                            async function changeLike(index, i, count) {\r\n\r\n                                const url = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}/counter.json`;\r\n                                const init = {\r\n                                    method: 'PATCH',\r\n                                    body: JSON.stringify({ [i]: count + 1 }),\r\n                                    headers: {\r\n                                        'Content-type': 'application/json; charset=UTF-8'\r\n                                    }\r\n                                }\r\n\r\n\r\n                                await fetch(url, init);\r\n                            }\r\n\r\n\r\n                            showUserUserPage.append(pStatusUser)\r\n\r\n                            showUserUserPage.style.height = \"100vh\"\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n            //listan på användare\r\n            card.addEventListener('click', () => {\r\n                \r\n                localStorage.setItem('differentUser', username)\r\n                window.location.assign(\"./userpage.html\")\r\n            })\r\n            const h1Username: HTMLElement | null = document.createElement('h1')\r\n            h1Username.innerText = username\r\n            if (username != localStorage.getItem('user')) {\r\n                card.append(h1Username)\r\n               \r\n            }\r\n            else {\r\n                const homePage: HTMLElement | null = document.createElement('div')\r\n                if (divbackG) divbackG.append(homePage)\r\n                h1Username.innerText = \"Hem\"\r\n                h1Username.style.fontSize = \"large\"\r\n               \r\n                homePage.append(h1Username)\r\n                homePage.setAttribute(\"id\", \"home\")\r\n                homePage.addEventListener('click', () => {\r\n\r\n\r\n                    window.location.assign(\"./profile.html\")\r\n                })\r\n            }\r\n\r\n        }\r\n\r\n    })\r\n\r\n}","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"98rEQ\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"1bQjt\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"ST812\")).toString();"],"names":["$877624b6c2eacb75$export$6503ec6e8aabbaf","$877624b6c2eacb75$export$f7ad0328861e2f03","$877624b6c2eacb75$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$1dfb8959d5ed0231$var$img1user","document","createElement","$e5bc418aab1d7b4b$exports","URL","resolve","url","toString","$1dfb8959d5ed0231$var$imgUrl1user","src","href","$1dfb8959d5ed0231$var$img2user","$131558d0d078decc$exports","$1dfb8959d5ed0231$var$imgUrl2user","$1dfb8959d5ed0231$var$img3user","$9f12702141fa1cf9$exports","$1dfb8959d5ed0231$var$imgUrl3user","$1dfb8959d5ed0231$var$titleUser","querySelector","$1dfb8959d5ed0231$var$divbackG","$1dfb8959d5ed0231$var$showUserUserPage","$1dfb8959d5ed0231$var$showListUserPage","async","response","fetch","json","$1dfb8959d5ed0231$var$getUserPage","then","data","forEach","element","index","username","counter","card","append","localStorage","getItem","style","display","h1UsernameUser","innerText","status","pStatusUser","likeBtn","changeLike","count","init","method","body","stringify","headers","innerHTML","addEventListener","location","reload","height","setItem","window","assign","h1Username","homePage","fontSize","setAttribute"],"version":3,"file":"userpage.b9900b17.js.map"}