{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-0422e8cf255209b7.js","src/modules/firebase.ts","node_modules/@parcel/runtime-js/lib/runtime-b85d6b7a54af4c20.js","node_modules/@parcel/runtime-js/lib/runtime-5546723a81026a5b.js","node_modules/@parcel/runtime-js/lib/runtime-697196d62bd660f4.js","src/modules/differentUserpages.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"hpMec\\\":\\\"differentUserpages.61848faa.js\\\",\\\"lI3C5\\\":\\\"Asset2.531f19a3.png\\\",\\\"g3Ncb\\\":\\\"Asset3.9c3a8e9d.png\\\",\\\"exZvY\\\":\\\"Asset4.faead686.png\\\"}\"));","import { User } from \"./type.ts\"\r\n//import { formCreate , formLogIn} from \"./index.ts\"   ///.ts?\r\n\r\nconst img1profile: HTMLImageElement = document.createElement('img')\r\nconst imgUrl1Profile = new URL('../img/Asset2.png', import.meta.url);\r\nimg1profile.src = imgUrl1Profile.href;\r\nconst img2profile: HTMLImageElement = document.createElement('img')\r\nconst imgUrl2Profile = new URL('../img/Asset3.png', import.meta.url);\r\nimg2profile.src = imgUrl2Profile.href;\r\nconst img3profile: HTMLImageElement = document.createElement('img')\r\nconst imgUrl3Profile = new URL('../img/Asset4.png', import.meta.url);\r\nimg3profile.src = imgUrl3Profile.href;\r\n\r\nasync function getUsers(): Promise<User[]> {\r\n    const url: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n   \r\n    return data\r\n}\r\n\r\n\r\n/////////////skapa användare firebase används på index.ts\r\nasync function putUser(obj: object, index: number) {\r\n    const urlPut: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}.json`\r\n    const init: Object = {\r\n        method: 'PUT',\r\n        body: JSON.stringify(obj),\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlPut, init);\r\n    const data = await response.json();\r\n\r\n}\r\n\r\n\r\n//////////////Profilesidans firebase funktioner\r\n\r\n//dessa funktioner använder put metoden och kallas på i profile- de utför Put i databasen för nya statusar och antal likes(counter)\r\nasync function putStatus(objStatus: object, index: number): Promise<void> {\r\n    const urlPutStatus: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}/status.json`\r\n    const init: Object = {\r\n        method: 'PUT',\r\n        body: JSON.stringify(objStatus),\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlPutStatus, init);\r\n    const data = await response.json();\r\n\r\n}\r\nasync function putCounter(objToPutForCount: object, index: number): Promise<void> {\r\n    const urlPutStatus: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}/counter.json`\r\n    const init: Object = {\r\n        method: 'PUT',\r\n        body: JSON.stringify(objToPutForCount),\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlPutStatus, init);\r\n    const data = await response.json();\r\n\r\n}\r\n///DELETE USER FUNCTIONS\r\nasync function deleteUserFirebase(index: number) {\r\n    const urlDelete: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}.json`\r\n    const init: Object = {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlDelete, init);\r\n    const data = await response.json();\r\n}\r\n\r\nasync function putFirebase(objZero: object): Promise<void> {\r\n    const urlPutZero: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/.json`\r\n    const init: Object = {\r\n        method: 'PUT',\r\n        body: JSON.stringify(objZero),\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlPutZero, init);\r\n    const data = await response.json();\r\n\r\n}\r\n\r\n//after delete\r\nasync function getUsersAfterDelete(): Promise<[User | null]> {\r\n    const url: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n\r\n    return data\r\n}\r\n\r\nfunction newUserList(listData: [User | null]): void {\r\n    listData.splice(listData.indexOf(null), 1)\r\n    putNewArr(listData)\r\n    async function putNewArr(listData: [User | null]): Promise<void> {\r\n        const urlPutAll: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n        const init: Object = {\r\n            method: 'PUT',\r\n            body: JSON.stringify(listData),\r\n            headers: {\r\n                'Content-type': \"application/json;charset=UTF-8\"\r\n            }\r\n        };\r\n        const response = await fetch(urlPutAll, init);\r\n        const data = await response.json();\r\n\r\n    }\r\n}\r\n\r\n//Usepage\r\n\r\nasync function changeNumberOfLikes(index: number, i: number, count: number) {\r\n\r\n    const url = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}/counter.json`;\r\n    const init = {\r\n        method: 'PATCH',\r\n        body: JSON.stringify({ [i]: count + 1 }),\r\n        headers: {\r\n            'Content-type': 'application/json; charset=UTF-8'\r\n        }\r\n    }\r\n\r\n\r\n    await fetch(url, init);\r\n}\r\n\r\n\r\nexport { getUsers, putUser, newUserList, getUsersAfterDelete, deleteUserFirebase, putFirebase, putStatus, putCounter, changeNumberOfLikes }","module.exports = require('./helpers/bundle-url').getBundleURL('hpMec') + \"../\" + require('./helpers/bundle-manifest').resolve(\"lI3C5\");","module.exports = require('./helpers/bundle-url').getBundleURL('hpMec') + \"../\" + require('./helpers/bundle-manifest').resolve(\"g3Ncb\");","module.exports = require('./helpers/bundle-url').getBundleURL('hpMec') + \"../\" + require('./helpers/bundle-manifest').resolve(\"exZvY\");","\nimport { User } from \"./type\"\nimport { getUsers, changeNumberOfLikes } from \"./firebase\"\n\nconst img1user: HTMLImageElement = document.createElement('img')\nconst imgUrl1user = new URL('../img/Asset2.png', import.meta.url);\nimg1user.src = imgUrl1user.href;\nconst img2user: HTMLImageElement = document.createElement('img')\nconst imgUrl2user = new URL('../img/Asset3.png', import.meta.url);\nimg2user.src = imgUrl2user.href;\nconst img3user: HTMLImageElement = document.createElement('img')\nconst imgUrl3user = new URL('../img/Asset4.png', import.meta.url);\nimg3user.src = imgUrl3user.href;\n\nconst titleUser: HTMLElement | null = document.querySelector('#title-user')\nconst divbackG: HTMLElement | null = document.querySelector('#background')\nconst showUserUserPage: HTMLElement | null = document.querySelector('#show-user')\nconst showListUserPage: HTMLElement | null = document.querySelector('#show-list')\n\n\ngetUsers().then(showUserPage)\n\nfunction showUserPage(allUsers: User[]): void {\n\nallUsers.forEach((element, index) => {\n\n        const { username, url, counter } = element\n\n        if (showListUserPage && counter) {\n            const card: HTMLElement = document.createElement('div');\n            showListUserPage.append(card);\n\n            //visar vems profil vi är inne på\n\n            if (username == localStorage.getItem('differentUser') && titleUser && showUserUserPage) {\n                card.style.display = \"none\"\n                const h1UsernameUser: HTMLElement | null = document.createElement('h1')\n                h1UsernameUser.innerText = username\n                if (url == \"url-1\") titleUser.append(img1user)\n                else if (url == \"url-2\") titleUser.append(img2user)\n                else if (url == \"url-3\") titleUser.append(img3user)\n                titleUser.append(h1UsernameUser)\n\n                //visar statusmeddelanden\n                showStatusMesseges(element, counter, showUserUserPage, index)\n            \n            }\n            //listan på användare\n\n            showListOfUsers(card, username)\n\n        }\n\n    })\n\n}\n//visa statusmeddelanden\nfunction showStatusMesseges(element: User, counter: number[], showUserUserPage: HTMLElement, index: number) {\n    if (Object.keys(element.status).length > 0) {\n        for (let i = 0; i < Object.keys(element.status).length; i++) {\n\n            if (i != 0) {\n                const pStatusUser: HTMLElement | null = document.createElement('p')\n                pStatusUser.innerText = element.status[i] + '. Likes: ' + counter[i]\n\n                //likeknappen på varje meddelande\n\n                const likeBtn = document.createElement('button')\n                pStatusUser.append(likeBtn)\n                likeBtn.innerHTML = 'Like'\n                likeBtn.addEventListener('click', () => {\n                    console.log(counter[i])\n                    changeNumberOfLikes(index, i, counter[i]).then(function () { location.reload() })\n                   \n                })\n\n                showUserUserPage.append(pStatusUser)\n\n                showUserUserPage.style.height = \"100vh\"\n            }\n        }\n    }\n}\n\n//visa listan på användare\nfunction showListOfUsers(card: HTMLElement, username: string) {\n    card.addEventListener('click', () => {\n\n        localStorage.setItem('differentUser', username)\n        window.location.assign(\"./differentUserpages.html\")\n    })\n    const h1Username: HTMLElement | null = document.createElement('h1')\n    h1Username.innerText = username\n    if (username != localStorage.getItem('user')) {\n        card.append(h1Username)\n\n    }\n    else {\n        const homePage: HTMLElement | null = document.createElement('div')\n        if (divbackG) divbackG.append(homePage)\n        h1Username.innerText = \"Hem\"\n        h1Username.style.fontSize = \"large\"\n\n        homePage.append(h1Username)\n        homePage.setAttribute(\"id\", \"home\")\n        homePage.addEventListener('click', () => {\n\n\n            window.location.assign(\"./profile.html\")\n        })\n    }\n}"],"names":["$2e0a21b61e813383$export$6503ec6e8aabbaf","$2e0a21b61e813383$export$f7ad0328861e2f03","$2e0a21b61e813383$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$bf0bbbd1c3caa4fd$export$bdfd709ae4826697","$bf0bbbd1c3caa4fd$var$bundleURL","$bf0bbbd1c3caa4fd$var$getBaseURL","url","replace","value","err","matches","stack","match","$bf0bbbd1c3caa4fd$var$getBundleURL","parcelRequire","register","JSON","parse","$81138cf7835306e9$var$img1profile","document","createElement","$a421dd0715ab033a$exports","getBundleURL","resolve","$81138cf7835306e9$var$imgUrl1Profile","URL","src","href","$81138cf7835306e9$var$img2profile","$e1acfdb0f2bd703e$exports","$81138cf7835306e9$var$imgUrl2Profile","$81138cf7835306e9$var$img3profile","$b5f5c5c730e3e4ef$exports","$81138cf7835306e9$var$imgUrl3Profile","async","$81138cf7835306e9$export$a5b29f4ec1138ab2","index","count","init","method","body","stringify","headers","fetch","$d6e5d42c50bccaf5$var$img1user","$d6e5d42c50bccaf5$var$imgUrl1user","$d6e5d42c50bccaf5$var$img2user","$d6e5d42c50bccaf5$var$imgUrl2user","$d6e5d42c50bccaf5$var$img3user","$d6e5d42c50bccaf5$var$imgUrl3user","$d6e5d42c50bccaf5$var$titleUser","querySelector","$d6e5d42c50bccaf5$var$divbackG","$d6e5d42c50bccaf5$var$showUserUserPage","$d6e5d42c50bccaf5$var$showListUserPage","response","json","then","allUsers","forEach","element","username","counter","card","append","localStorage","getItem","style","display","h1UsernameUser","innerText","showUserUserPage","status","pStatusUser","likeBtn","innerHTML","addEventListener","console","log","location","reload","height","$d6e5d42c50bccaf5$var$showStatusMesseges","setItem","window","assign","h1Username","homePage","fontSize","setAttribute","$d6e5d42c50bccaf5$var$showListOfUsers"],"version":3,"file":"differentUserpages.61848faa.js.map"}