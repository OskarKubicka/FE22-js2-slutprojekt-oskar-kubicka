{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-0405bb1e0402dd00.js","src/modules/firebase.ts","node_modules/@parcel/runtime-js/lib/runtime-142388b33e60b17f.js","node_modules/@parcel/runtime-js/lib/runtime-2e74a8761f04ac73.js","node_modules/@parcel/runtime-js/lib/runtime-05ccb8047e3233d8.js","src/modules/differentUserpages.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"ddg8Y\\\":\\\"differentUserpages.80ac671b.js\\\",\\\"98rEQ\\\":\\\"Asset2.531f19a3.png\\\",\\\"1bQjt\\\":\\\"Asset3.9c3a8e9d.png\\\",\\\"ST812\\\":\\\"Asset4.faead686.png\\\"}\"));","import { User } from \"./type.ts\"\r\n//import { formCreate , formLogIn} from \"./index.ts\"   ///.ts?\r\n\r\nconst img1profile: HTMLImageElement = document.createElement('img')\r\nconst imgUrl1Profile = new URL('../img/Asset2.png', import.meta.url);\r\nimg1profile.src = imgUrl1Profile.href;\r\nconst img2profile: HTMLImageElement = document.createElement('img')\r\nconst imgUrl2Profile = new URL('../img/Asset3.png', import.meta.url);\r\nimg2profile.src = imgUrl2Profile.href;\r\nconst img3profile: HTMLImageElement = document.createElement('img')\r\nconst imgUrl3Profile = new URL('../img/Asset4.png', import.meta.url);\r\nimg3profile.src = imgUrl3Profile.href;\r\n\r\nasync function getUsers(): Promise<User[]> {\r\n    const url: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n   \r\n    return data\r\n}\r\n\r\n\r\n/////////////skapa användare firebase används på index.ts\r\nasync function putUser(obj: object, index: number) {\r\n    const urlPut: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}.json`\r\n    const init: Object = {\r\n        method: 'PUT',\r\n        body: JSON.stringify(obj),\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlPut, init);\r\n    const data = await response.json();\r\n\r\n}\r\n\r\n\r\n//////////////Profilesidans firebase funktioner\r\n\r\n//dessa funktioner använder put metoden och kallas på i profile- de utför Put i databasen för nya statusar och antal likes(counter)\r\nasync function putStatus(objStatus: object, index: number): Promise<void> {\r\n    const urlPutStatus: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}/status.json`\r\n    const init: Object = {\r\n        method: 'PUT',\r\n        body: JSON.stringify(objStatus),\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlPutStatus, init);\r\n    const data = await response.json();\r\n\r\n}\r\nasync function putCounter(objToPutForCount: object, index: number): Promise<void> {\r\n    const urlPutStatus: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}/counter.json`\r\n    const init: Object = {\r\n        method: 'PUT',\r\n        body: JSON.stringify(objToPutForCount),\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlPutStatus, init);\r\n    const data = await response.json();\r\n\r\n}\r\n///DELETE USER FUNCTIONS\r\nasync function deleteUserFirebase(index: number) {\r\n    const urlDelete: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}.json`\r\n    const init: Object = {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlDelete, init);\r\n    const data = await response.json();\r\n}\r\n\r\nasync function putFirebase(objZero: object): Promise<void> {\r\n    const urlPutZero: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/.json`\r\n    const init: Object = {\r\n        method: 'PUT',\r\n        body: JSON.stringify(objZero),\r\n        headers: {\r\n            'Content-type': \"application/json;charset=UTF-8\"\r\n        }\r\n    };\r\n    const response = await fetch(urlPutZero, init);\r\n    const data = await response.json();\r\n\r\n}\r\n\r\n//after delete\r\nasync function getUsersAfterDelete(): Promise<[User | null]> {\r\n    const url: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n\r\n    return data\r\n}\r\n\r\nfunction newUserList(listData: [User | null]): void {\r\n    listData.splice(listData.indexOf(null), 1)\r\n    putNewArr(listData)\r\n    async function putNewArr(listData: [User | null]): Promise<void> {\r\n        const urlPutAll: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n        const init: Object = {\r\n            method: 'PUT',\r\n            body: JSON.stringify(listData),\r\n            headers: {\r\n                'Content-type': \"application/json;charset=UTF-8\"\r\n            }\r\n        };\r\n        const response = await fetch(urlPutAll, init);\r\n        const data = await response.json();\r\n\r\n    }\r\n}\r\n\r\n//Usepage\r\n\r\nasync function changeNumberOfLikes(index: number, i: number, count: number) {\r\n\r\n    const url = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}/counter.json`;\r\n    const init = {\r\n        method: 'PATCH',\r\n        body: JSON.stringify({ [i]: count + 1 }),\r\n        headers: {\r\n            'Content-type': 'application/json; charset=UTF-8'\r\n        }\r\n    }\r\n\r\n\r\n    await fetch(url, init);\r\n}\r\n\r\n\r\nexport { getUsers, putUser, newUserList, getUsersAfterDelete, deleteUserFirebase, putFirebase, putStatus, putCounter, changeNumberOfLikes }","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"98rEQ\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"1bQjt\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"ST812\")).toString();","\nimport { User } from \"./type\"\nimport { getUsers, changeNumberOfLikes } from \"./firebase\"\n\nconst img1user: HTMLImageElement = document.createElement('img')\nconst imgUrl1user = new URL('../img/Asset2.png', import.meta.url);\nimg1user.src = imgUrl1user.href;\nconst img2user: HTMLImageElement = document.createElement('img')\nconst imgUrl2user = new URL('../img/Asset3.png', import.meta.url);\nimg2user.src = imgUrl2user.href;\nconst img3user: HTMLImageElement = document.createElement('img')\nconst imgUrl3user = new URL('../img/Asset4.png', import.meta.url);\nimg3user.src = imgUrl3user.href;\n\nconst titleUser: HTMLElement | null = document.querySelector('#title-user')\nconst divbackG: HTMLElement | null = document.querySelector('#background')\nconst showUserUserPage: HTMLElement | null = document.querySelector('#show-user')\nconst showListUserPage: HTMLElement | null = document.querySelector('#show-list')\n\n\ngetUsers().then(showUserPage)\n\nfunction showUserPage(allUsers: User[]): void {\n\nallUsers.forEach((element, index) => {\n\n        const { username, url, counter } = element\n\n        if (showListUserPage && counter) {\n            const card: HTMLElement = document.createElement('div');\n            showListUserPage.append(card);\n\n            //visar vems profil vi är inne på\n\n            if (username == localStorage.getItem('differentUser') && titleUser && showUserUserPage) {\n                card.style.display = \"none\"\n                const h1UsernameUser: HTMLElement | null = document.createElement('h1')\n                h1UsernameUser.innerText = username\n                if (url == \"url-1\") titleUser.append(img1user)\n                else if (url == \"url-2\") titleUser.append(img2user)\n                else if (url == \"url-3\") titleUser.append(img3user)\n                titleUser.append(h1UsernameUser)\n\n                //visar statusmeddelanden\n                showStatusMesseges(element, counter, showUserUserPage, index)\n            \n            }\n            //listan på användare\n\n            showListOfUsers(card, username)\n\n        }\n\n    })\n\n}\n//visa statusmeddelanden\nfunction showStatusMesseges(element: User, counter: number[], showUserUserPage: HTMLElement, index: number) {\n    if (Object.keys(element.status).length > 0) {\n        for (let i = 0; i < Object.keys(element.status).length; i++) {\n\n            if (i != 0) {\n                const pStatusUser: HTMLElement | null = document.createElement('p')\n                pStatusUser.innerText = element.status[i] + '. Likes: ' + counter[i]\n\n                //likeknappen på varje meddelande\n\n                const likeBtn = document.createElement('button')\n                pStatusUser.append(likeBtn)\n                likeBtn.innerHTML = 'Like'\n                likeBtn.addEventListener('click', () => {\n                    console.log(counter[i])\n                    changeNumberOfLikes(index, i, counter[i]).then(function () { location.reload() })\n                   \n                })\n\n                showUserUserPage.append(pStatusUser)\n\n                showUserUserPage.style.height = \"100vh\"\n            }\n        }\n    }\n}\n\n//visa listan på användare\nfunction showListOfUsers(card: HTMLElement, username: string) {\n    card.addEventListener('click', () => {\n\n        localStorage.setItem('differentUser', username)\n        window.location.assign(\"./differentUserpages.html\")\n    })\n    const h1Username: HTMLElement | null = document.createElement('h1')\n    h1Username.innerText = username\n    if (username != localStorage.getItem('user')) {\n        card.append(h1Username)\n\n    }\n    else {\n        const homePage: HTMLElement | null = document.createElement('div')\n        if (divbackG) divbackG.append(homePage)\n        h1Username.innerText = \"Hem\"\n        h1Username.style.fontSize = \"large\"\n\n        homePage.append(h1Username)\n        homePage.setAttribute(\"id\", \"home\")\n        homePage.addEventListener('click', () => {\n\n\n            window.location.assign(\"./profile.html\")\n        })\n    }\n}"],"names":["$877624b6c2eacb75$export$6503ec6e8aabbaf","$877624b6c2eacb75$export$f7ad0328861e2f03","$877624b6c2eacb75$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$26e1e8cf4490489d$var$img1profile","document","createElement","$e5bc418aab1d7b4b$exports","URL","resolve","url","toString","$26e1e8cf4490489d$var$imgUrl1Profile","src","href","$26e1e8cf4490489d$var$img2profile","$131558d0d078decc$exports","$26e1e8cf4490489d$var$imgUrl2Profile","$26e1e8cf4490489d$var$img3profile","$9f12702141fa1cf9$exports","$26e1e8cf4490489d$var$imgUrl3Profile","async","$26e1e8cf4490489d$export$a5b29f4ec1138ab2","index","count","init","method","body","stringify","headers","fetch","$38cc0dafdf765cfe$var$img1user","$38cc0dafdf765cfe$var$imgUrl1user","$38cc0dafdf765cfe$var$img2user","$38cc0dafdf765cfe$var$imgUrl2user","$38cc0dafdf765cfe$var$img3user","$38cc0dafdf765cfe$var$imgUrl3user","$38cc0dafdf765cfe$var$titleUser","querySelector","$38cc0dafdf765cfe$var$divbackG","$38cc0dafdf765cfe$var$showUserUserPage","$38cc0dafdf765cfe$var$showListUserPage","response","json","then","allUsers","forEach","element","username","counter","card","append","localStorage","getItem","style","display","h1UsernameUser","innerText","showUserUserPage","status","pStatusUser","likeBtn","innerHTML","addEventListener","console","log","location","reload","height","$38cc0dafdf765cfe$var$showStatusMesseges","setItem","window","assign","h1Username","homePage","fontSize","setAttribute","$38cc0dafdf765cfe$var$showListOfUsers"],"version":3,"file":"differentUserpages.80ac671b.js.map"}