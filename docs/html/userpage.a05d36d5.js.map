{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-58cf143dcd34ad27.js","src/modules/userpage.ts","node_modules/@parcel/runtime-js/lib/runtime-9f35ab42071af136.js","node_modules/@parcel/runtime-js/lib/runtime-3f4ef39464fbcfe8.js","node_modules/@parcel/runtime-js/lib/runtime-e437b71db9a2bb20.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"E2quU\\\":\\\"userpage.a05d36d5.js\\\",\\\"lI3C5\\\":\\\"Asset2.531f19a3.png\\\",\\\"g3Ncb\\\":\\\"Asset3.9c3a8e9d.png\\\",\\\"exZvY\\\":\\\"Asset4.faead686.png\\\"}\"));","\r\nimport { Data } from \"./type.ts\"\r\n\r\n\r\nconst img1user: HTMLImageElement = document.createElement('img')\r\nconst imgUrl1user = new URL('../img/Asset2.png', import.meta.url);\r\nimg1user.src = imgUrl1user.href;\r\nconst img2user: HTMLImageElement = document.createElement('img')\r\nconst imgUrl2user = new URL('../img/Asset3.png', import.meta.url);\r\nimg2user.src = imgUrl2user.href;\r\nconst img3user: HTMLImageElement = document.createElement('img')\r\nconst imgUrl3user = new URL('../img/Asset4.png', import.meta.url);\r\nimg3user.src = imgUrl3user.href;\r\n\r\n\r\nconst titleUser: HTMLElement | null = document.querySelector('#title-user')\r\n\r\nconst divbackG: HTMLElement | null = document.querySelector('#background')\r\nconst showUserUserPage: HTMLElement | null = document.querySelector('#show-user')\r\nconst showListUserPage: HTMLElement | null = document.querySelector('#show-list')\r\n\r\nconst urlUserPage: string = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n\r\nasync function getUserPage(): Promise<Data[]> {\r\n    const response = await fetch(urlUserPage);\r\n    const data = await response.json();\r\n  \r\n    return data\r\n}\r\ngetUserPage().then(showUserPage)\r\n\r\n\r\n\r\nfunction showUserPage(data: Data[]): void {\r\n   \r\n\r\n    data.forEach((element, index) => {\r\n    \r\n        const { username, url, counter } = element\r\n    \r\n        if (showListUserPage && counter) {\r\n            const card: HTMLElement = document.createElement('div');\r\n            showListUserPage.append(card);\r\n            //profilanvändarens del\r\n            if (username == localStorage.getItem('differentUser') && titleUser && showUserUserPage) {\r\n                card.style.display = \"none\"\r\n                const h1UsernameUser: HTMLElement | null = document.createElement('h1')\r\n                h1UsernameUser.innerText = username\r\n                if (url == \"url-1\") titleUser.append(img1user)\r\n                if (url == \"url-2\") titleUser.append(img2user)\r\n                if (url == \"url-3\") titleUser.append(img3user)\r\n                titleUser.append(h1UsernameUser)\r\n                if (Object.keys(element.status).length > 0) {\r\n                    for (let i = 0; i < Object.keys(element.status).length; i++) {\r\n                       \r\n                        if (i != 0) {\r\n                            const pStatusUser: HTMLElement | null = document.createElement('p')\r\n                            pStatusUser.innerText = element.status[i] + '. Likes: ' + counter[i]\r\n\r\n                            //\r\n\r\n                            const likeBtn = document.createElement('button')\r\n                            pStatusUser.append(likeBtn)\r\n                            likeBtn.innerHTML = 'Like'\r\n                            likeBtn.addEventListener('click', () => {\r\n                                \r\n                                changeLike(index, i, counter[i]).then(relooaad)\r\n                                function relooaad() {\r\n                                    location.reload()\r\n                                }\r\n                            })\r\n\r\n                            async function changeLike(index, i, count) {\r\n\r\n                                const url = `https://slutprojekt-js2-oskar-default-rtdb.europe-west1.firebasedatabase.app/users/${index}/counter.json`;\r\n                                const init = {\r\n                                    method: 'PATCH',\r\n                                    body: JSON.stringify({ [i]: count + 1 }),\r\n                                    headers: {\r\n                                        'Content-type': 'application/json; charset=UTF-8'\r\n                                    }\r\n                                }\r\n\r\n\r\n                                await fetch(url, init);\r\n                            }\r\n\r\n\r\n                            showUserUserPage.append(pStatusUser)\r\n\r\n                            showUserUserPage.style.height = \"100vh\"\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n            //listan på användare\r\n            card.addEventListener('click', () => {\r\n                \r\n                localStorage.setItem('differentUser', username)\r\n                window.location.assign(\"./userpage.html\")\r\n            })\r\n            const h1Username: HTMLElement | null = document.createElement('h1')\r\n            h1Username.innerText = username\r\n            if (username != localStorage.getItem('user')) {\r\n                card.append(h1Username)\r\n               \r\n            }\r\n            else {\r\n                const homePage: HTMLElement | null = document.createElement('div')\r\n                if (divbackG) divbackG.append(homePage)\r\n                h1Username.innerText = \"Hem\"\r\n                h1Username.style.fontSize = \"large\"\r\n               \r\n                homePage.append(h1Username)\r\n                homePage.setAttribute(\"id\", \"home\")\r\n                homePage.addEventListener('click', () => {\r\n\r\n\r\n                    window.location.assign(\"./profile.html\")\r\n                })\r\n            }\r\n\r\n        }\r\n\r\n    })\r\n\r\n}","module.exports = require('./helpers/bundle-url').getBundleURL('E2quU') + \"../\" + require('./helpers/bundle-manifest').resolve(\"lI3C5\");","module.exports = require('./helpers/bundle-url').getBundleURL('E2quU') + \"../\" + require('./helpers/bundle-manifest').resolve(\"g3Ncb\");","module.exports = require('./helpers/bundle-url').getBundleURL('E2quU') + \"../\" + require('./helpers/bundle-manifest').resolve(\"exZvY\");"],"names":["$2e0a21b61e813383$export$6503ec6e8aabbaf","$2e0a21b61e813383$export$f7ad0328861e2f03","$2e0a21b61e813383$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$bf0bbbd1c3caa4fd$export$bdfd709ae4826697","$bf0bbbd1c3caa4fd$var$bundleURL","$bf0bbbd1c3caa4fd$var$getBaseURL","url","replace","value","err","matches","stack","match","$bf0bbbd1c3caa4fd$var$getBundleURL","parcelRequire","register","JSON","parse","$26bc64712b1653f8$var$img1user","document","createElement","$fa5e8794d0a0df58$exports","getBundleURL","resolve","$26bc64712b1653f8$var$imgUrl1user","URL","src","href","$26bc64712b1653f8$var$img2user","$a45f2d09e58d398a$exports","$26bc64712b1653f8$var$imgUrl2user","$26bc64712b1653f8$var$img3user","$114bd75c4221342a$exports","$26bc64712b1653f8$var$imgUrl3user","$26bc64712b1653f8$var$titleUser","querySelector","$26bc64712b1653f8$var$divbackG","$26bc64712b1653f8$var$showUserUserPage","$26bc64712b1653f8$var$showListUserPage","async","response","fetch","json","$26bc64712b1653f8$var$getUserPage","then","data","forEach","element","index","username","counter","card","append","localStorage","getItem","style","display","h1UsernameUser","innerText","status","pStatusUser","likeBtn","changeLike","count","init","method","body","stringify","headers","innerHTML","addEventListener","location","reload","height","setItem","window","assign","h1Username","homePage","fontSize","setAttribute"],"version":3,"file":"userpage.a05d36d5.js.map"}